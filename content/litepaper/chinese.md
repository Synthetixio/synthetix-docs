# Litepaper

**版本** 1.1 (2019 七月, Andy Deng)


## 摘要

Synthetix 是基于以太坊的去中心化合成资产发行协议。这些合成资产由 Synthetix 网络通证（SNX）担保，只要将 SNX 在智能合约中锁定，即可发行合成资产（Synths）。抵押池模型使用户可以直接使用智能合约在 Synth 之间执行转换，而无需交易对手。这种机制解决了 DEX 遇到的流动性和滑点问题。 Synthetix 当前支持合成法定货币，加密货币（多头和空头）和大宗商品。系统根据用户的贡献，将产生于 Synthetix.Exchange 交易所中的交易费用按比例付给 SNX 持币者，从而鼓励用户持有 SNX。SNX 的价值来源于使用网络的权利，和收取因 Synth 交易而产生的费用。

## SNX 抵押

**SNX 是怎样支撑 Synths 的**

所有 Synths 均由 SNX 支撑。当 SNX 持有者使用 Mintr（一个与 Synthetix 智能合约进行交互的 dApp）将其 SNX 作为抵押品进行抵押时，便会生成 Synths。Synths 目前有 750％ 的抵押率支持，但是将来可以通过社区治理机制提高或降低其抵押率。 SNX 抵押人在创建 Synth 时会产生债务，要退出系统（即解锁其SNX），必须通过销毁 Synth 来偿还该债务。

**为什么持有 SNX**

SNX 持有人被鼓励以多种方式持有 SNX 和铸造 Synths。
首先，交易奖励。每当有人将一种 Synth 交换为另一种 Synth 时（即在 Synthetix.Exchange 上交易），会生成交易奖励。每笔交易产生0.3％ 的交易费，会被存到费用池中。SNX 抵押人每周可以按比例申领费用池中的 SNX 作为交易奖励。 
第二，持有奖励。协议的通胀政策产生 SNX 持有奖励。从 2019 年 3 月到 2024 年 3 月，SNX 的总供应量将从 100,000,000 增加到 245,312,500，且通胀率将逐年降低。如果这些 SNX 的抵押率不低于目标阈值，则会按比例分配给 SNX 抵押人。

**铸造，销毁和抵押率**

以上机制可确保激励 SNX 抵押人将其抵押率（Collateralisation Ratio）保持在最佳水平（目前为 750％）。这样可以确保 Synths 有足够的抵押来支撑大幅价格冲击。如果 SNX 或 Synths 的价格波动，则每个抵押人的抵押率也会波动。如果降至 750％ 以下，他们将无法申领交易奖励，直到他们恢复抵押率为止。他们可以通过铸造 Synth（如果它们的比率高于 750％）或销毁 Synth（如果它们的比率低于 750％）来调整其比率。

**抵押人，债务人和交易对手**

SNX 抵押人创建 Synths 时会产生“债务”。根据网络中 Synths 的汇率和供应，该债务可以独立于其原始铸造价值而增加或减少。例如，如果系统中 100％ 的 Synths 都是合成比特币（sBTC），sBTC 价格减半时，则系统中的债务将减半，而每个抵押人的债务也将减半。这意味着，在另一种情况下，当系统中只有一半的 Synths 是 sBTC，而 BTC 的价格翻了一番，系统的总债务（以及每个风险承担者的债务）将增加四分之一。
这样，所有 SNX 抵押人就成为了所有 Synth 交易所的交易对手；抵押人承担系统中全部债务的风险。他们可以选择在系统外部进行对冲，以规避这种风险。所有抵押人通过承担此风险，使得 Synthetix 上能够产生交易，从而获得系统产生的交易奖励分成。

![Image of debt example](https://www.synthetix.io/uploads/delphi_digital_debt_example.png)
_资源: Delphi Digital_

## sUSD 挂钩

sUSD 挂钩对一个功能良好的系统至关重要，因为交易者需要 sUSD 与其他加密资产之间的流动性和稳定性，才能从交易中获利。 sUSD 在公开市场上交易，因此有可能跌破与美元同等的水平。需要采取激励措施，以确保挂钩的价格偏差最小，同时 SNX 持有者有动力去通过套利纠正价格偏差。

保持 sUSD 挂钩的主要机制是， SNX 抵押人创造了债务，并出售了他们铸造的 Synths 后，通过将 sUSD 以低于其面值的价格回购并销毁以减少债务，达到套利的目的。还有其他保持此挂钩的方法，包括提高抵押率，从而减少 Synths 的供应以适应需求。对于未能保持 sUSD 挂钩的情况，引入清算是另一种选择。这些方案只有在社区通过我们的 SIP 流程进行辩论（接下来会讨论）之后，才能实施。

## Synthetix.Exchange 交易所

**为什么要交易合成资产?**

合成资产可以在无需持有某种实际资产的情况下，提供对这种资产的交易。合成资产有一系列优势，包括减少在不同资产之间切换时的摩擦（例如，从 Apple 股票到合成黄金），扩大某些资产的可触及性，以及抗审查。

**Synthetix.Exchange 的优势**

在 Synthetix.Exchange 上进行交易，比中心化交易所和基于交易簿（order book）的 DEX 交易所具有许多优势。没有交易簿意味着所有交易都是根据智能合约执行的，称为 P2C（点对智能合约）交易。Synthetix.Exchange 交易所的 dApp 通过预言机（Oracle）提供的价格信息为资产分配汇率，从而运行资产转换。这提供了相当于系统抵押品总量的无限流动性，零滑点和无审查的上链交易。

**Synths 是怎样工作的**

Synths 是跟踪实际资产价格的合成资产。它们使持有者无需自己持有实际资产或委托任何托管人，就可以在以太坊上交易各种资产类别。Synths 由 Synthetix Network Token（SNX）支撑，SNX 作为抵押品时，以750％的比例抵押。

**目前的 Synths**

当前有四类 Synths 可用：法定货币，大宗商品，加密货币和反向加密货币。我们的法定货币 Synths 包括 sUSD，sEUR，sKRW 等。大宗商品 Synths 包括合成金和合成银，均以盎司为单位。我们的加密货币 Synths 包括sBTC，sETH和sBNB，未来将加入更多种类。而 Inverse Synths 则反向跟踪加密货币的价格，这意味着当BTC的价格下降时，iBTC的价格就会上升。

## 系统架构

**铸造 Synths**

SNX 持有者可以通过 Synthetix 智能合约锁定其 SNX 作为抵押品来铸造 Synth。 SNX 持有者铸造 Synths 的步骤是：

- Synthetix 智能合约检查 SNX 抵押人是否可以用这些 SNX 来铸造 Synths，要求其抵押率低于750％。
- 他们的债务被添加到债务登记簿中。债务是新铸造的 Synth 金额，并存储在 XDR 的（Synthetix Drawing Rights 提款权）中。 XDR 使用一篮子货币来稳定债务的价值，类似于 IMF 的特别提款权（SDR）。这些货币价格通过价格预言机在推送上链。
- 将债务分配给抵押人后，Synthetix 智能合约将指示目标 Synth 智能合约发行新的金额，将其添加到总目标 Synth 的供应量中，然后将新铸造的 Synths 分配到用户的钱包。

如果 SNX 的价格上涨，则抵押人一部分相应的 SNX 将自动解除锁定。例如，如果一个用户锁定了 100 美元的 SNX 作为抵押品，并且 SNX 的价值翻了一番，那么他的 SNX 总数（总价值：200美元）中的一半将被锁定，另一半则被解锁。如果他愿意，可以将多余的未锁定 SNX 抵押以创建更多 Synths。

**交易所**

智能合约处理 Synth 交易时涉及的步骤（在此示例中，从 sUSD 到 sBTC)：

- 销毁源 Synth（sUSD），包括减少该钱包地址的 sUSD 余额并更新 sUSD 的总供应量。
- 确定兑换金额（即根据每种货币的价格计算的汇率）。
- 收取交易费用，目前是交易金额的 0.3％，并将费用作为 XDR 发送到费用池，用于所有 SNX 抵押人申领。
- 剩余的 99.7％ 由目标 Synth（sBTC）的智能合约发行，并且更新钱包余额
- 更新 sBTC 总供应量。

由于系统将债务从一种 Synth 转换为另一种 Synth，因此不需要交易对手进行交易。另外，由于不需要交易簿或撮合交易，Synth 之间的流动性是无限的。债务池中的债务变化也不需要记录，因为源 Synth 销毁的价值在目标 Synth 中被铸造出来了。

**申领费用**

通过 Synthetix 智能合约交换 Synth 时，将收取 0.3％ 的费用并将其作为 XDR 发送到费用池中，以供 SNX 抵押人申领。申领费用（也称为 Synth 交易奖励）时，抵押人也可以申领他们的 SNX 持有奖励，即持有 SNX 可以获得额外的 SNX 奖励。抵押人申领费用时，智能合约的流程如下：

- 费用池检查当前是否有可用费用，以及抵押人是否有资格申领费用。
- 发行对应的 sUSD，并销毁费用池中等价的 XDR。更新抵押人钱包地址的余额和费用池的余额。
- 此外，从 SNX 持有奖励智能合约中，按比例分配托管的 SNX 到抵押人钱包地址。

费用是根据每个抵押人已发行债务的比例分配的。例如，如果一个抵押人发行了 1,000 sUSD 的债务，债务池为 10,000 sUSD，并且在收费期内产生了 100 笔费用，那么该抵押人有权获得 10 sUSD，因为他们的债务占债务池的10％。相同的比例分配机制也用于 SNX 持有奖励。

**销毁债务**

当 SNX 抵押人想要退出系统或减少债务并解锁抵押的 SNX 时，必须先偿还债务。 最简单的例子是：如果抵押人通过将 SNX 锁定为抵押品来铸造 10 sUSD，那么就必须销毁 10 sUSD 才能解锁那些 SNX。 但是，如果在抵押期间债务池发生波动（因此其个人债务也发生波动），则他们可能需要销毁比铸造时更多或更少的债务。 将债务减为零的过程如下：

- Synthetix 智能合约确定其债务余额并将其从“债务登记簿”中删除。
- 销毁所需的 sUSD 金额，并且更新 sUSD 的总供给以及用户钱包中的 sUSD 余额。
- 这些 SNX 余额被设置为可转让。

**债务池**

当 SNX 持有者铸造或销毁 Synths 时，系统会通过更新“累积债务增量比率”，来跟踪债务池（以及每个抵押人的债务）。 这可以衡量 SNX 抵押人上次铸造或销毁时，其债务在债务池中所占的比例，以及由其他抵押人进入或离开系统而引起的债务变化。 系统使用这些信息来确定每个抵押人在任何未来时间点的债务，而不必实际记录每个抵押人的债务变化。

通过更新“债务登记簿”上的“累积债务增量比率”，系统可以跟踪每个用户的债务百分比。 系统使用如下公式计算新债务对债务池的引入变化的百分比，并将其添加到债务登记簿中：

`新铸造的债务 （现有总债务 + 新债务)`

然后，抵押人的铸造/销毁操作，包括其债务发行数据和编号，将被记录到债务登记簿中。由以下公式计算得出在债务池中的占比，将被记录下来：

`抵押人债务占比 = （新债务 + 现有债务）（之前债务池总量 + 新债务)`

上述计算得出的，保存在债务登记簿中的累积债务增量比率，加上债务的相对时间（编号），就可根据任何用户上次铸造/销毁时引起的债务池占比变化，来计算此用户在任何未来时间点的债务池占比。

每次产生或销毁债务时，我们通过相加每个 Synth 智能合约中代币的数量乘以当前汇率，来重新计算债务池：

`总发行债务 = 总铸造 Synths(“XDR”)`

这样就可以计算当前债务池，并包含在更新后的“累积债务增量比率”中，以便我们知道每笔“债务登记簿”条目中债务的大小（以 Synths 为单位）。

当抵押人偿还债务（即通过销毁他们铸造的 Synths）以解锁其 SNX 抵押时，系统将基于销毁的债务金额相对于债务减少后的系统债务总值的百分比变化来更新累积债务增量。

这是用户铸造新债务的逆运算：

`抵押人新的债务比 = （现有债务 - 将销毁的债务）  （债务池 - 将销毁的债务)`

这是用于计算更新的累积债务增量的公式：

`增量 = 将销毁的债务 （债务池 - 将销毁的债务)`

如果抵押人将所有债务销毁，则其在债务登记簿中的债务发行数据将被设置为 0，且其不再属于债务池。

**预言机**

目前，Synthetix 系统中所有合成资产的价值均由一个自动将资产价格推送上链的预言机确定。 它使用具有多种来源的算法来为每种资产形成合计价值。 它目前由 Synthetix 团队运行，但计划在未来将其去中心化。 

## 当前风险和对应策略

**当前风险**

当前的体系结构存在多种风险，因为 Synthetix 仍然是一个实验系统，而复杂的系统需要经验观察和理论分析。 经验观察和理论分析可确保对所有参与者的激励措施与机制的设计保持一致。

SNX 持有者在抵押 SNX 和铸造 Synths 时发行的债务涉及一种风险。 如前所述，该债务可能由于系统内的汇率变动而波动。 这意味着要退出系统并解锁抵押的 SNX，抵押人可能需要消耗比最初铸造的更多的 Synth。

加密货币领域的大多数人都知道这种风险，但是大多数加密资产的价格与比特币和/或以太坊高度相关。 这意味着 SNX 代币可能会出现重大价格波动，其原因与 SNX 或 Synthetix 系统无关。

最后，当前系统中的有一些部分是中心化的。 做出此决定是为了确保项目的有效实施。 中心化的一个例子是在整个体系结构中使用代理智能合约。 这是为了确保可以方便的升级系统，但又赋予工程团队一定程度的控制权，这需要用户的信任。 尽管这些方面将随着时间的推移逐步淘汰，但了解当前系统结构固有的风险很重要。

**风险对应策略**

作为一个去中心化的协议，Synthetix 团队致力于去中心化和抗审查，随着系统的成熟，这将是一个渐进的过程。 其中关键领域包括，提供资产价格的 feeds。 我们之前已经宣布与分散式预言机解决方案供应商 Chainlink 建立合作伙伴关系，并且已经完成了 Kovan Testnet 上的集成。

另一个重要领域是治理，我们最近发起了定期的社区治理，以确保项目目标与社区保持一致。 社区治理的另一个方面是转向使用正式的变更管理流程，我们引入了SIP（Synthetix Improvement Proposals），以使社区可以提出探讨变更请求，以确保所有利益相关者都能充分理解和衡量对系统的任何变更。

## 未来功能

**更多的 Synths**

多种 Synths 将被添加到系统中，来为 Synthetix.Exchange 提供更多的实用性。其中包括在其他平台上没有的杠杆资产，以及诸如 S＆P500 指数以及诸如 APPL 和 TSLA 这样的股票。

**Dai 接入**

MakerDAO 的稳定币 Dai 已成为 DeFi 生态系统中的重要组成部分。 我们计划向 Synthetix.Exchange 添加功能，该功能将允许用户存入 Dai 来换取 sUSD，从而使更多的人可以轻松使用该平台。 这将大大降低平台的门槛，并提供进出交易所的流动性。

**贷款**

Synthetix 完全支持，并已成为以太坊上越来越多的 DeFi（去中心化金融）运动的一部分。其中非托管贷款是该生态系统的重要组成部分。因此，Synthetix 计划集成开源贷款协议以提供 sUSD 贷款，从而允许用户借贷 Synths 来在 Synthetix.Exchange 上进行交易。这将是一种吸引用户使用平台的令人兴奋的新方法。

**合成资产头寸**

我们希望在不久的将来能够使交易员在 Synthetix.Exchange 上建立合成资产头寸。该功能的许多方面尚未最终确定，但预计它将使用与 Uniswap 自动做市商算法类似的自平衡机制，该算法将限制每个头寸的总未平仓权益，因此可以限制 SNX 抵押人的风险和未平仓合约总额，并且借入利率会根据当前未平仓合约进行调整。该系统还将鼓励交易者通过向重新平衡头寸的交易者支付一定比例的费用来平衡系统中的风险，尽管此功能不会在初始版本中使用。已经有许多加密资产的衍生品交易平台，但是它们都受到交易对手流动性的限制。 与 Binance 通过列出比大多数其他中心化交易所更多的加密资产来占领市场份额的方式类似，Synthetix 系统的独特设计意味着它可以在该领域占领市场份额。

## 总结

Synthetix 已经交付了迄今为止以太坊上最复杂，最有用的协议之一。但是，抗审查的合成资产的潜力仍在很大程度上尚未开发。该机制的进一步改进，新功能的升级，和新 Synths 交易对的加入将大大增加该平台的实用性。同时，进化到去中心化的治理流程还将减少系统风险，并提高项目的长期可行性。
